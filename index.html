<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>SportX - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { --main-color: #27ae60; --dark-bg: #2c3e50; }
        body { font-family: sans-serif; margin: 0; background: #f4f7f6; }
        nav { background: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .hero { text-align: center; padding: 50px 20px; background: white; }
        .auth-box { background: white; padding: 20px; border-radius: 10px; max-width: 350px; margin: 20px auto; border: 1px solid #ddd; }
        input { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; }
        .btn { width: 100%; padding: 12px; background: var(--main-color); color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .google-btn { background: #fff; border: 1px solid #ddd; color: #444; margin-top: 10px; }
        .three-dots { cursor: pointer; font-size: 20px; position: relative; }
        .dropdown { display: none; position: absolute; right: 0; background: white; box-shadow: 0 2px 10px rgba(0,0,0,0.2); border-radius: 5px; z-index: 100; }
        .dropdown a { display: block; padding: 10px 20px; text-decoration: none; color: black; }
        .three-dots:hover .dropdown { display: block; }
    </style>
</head>
<body>

<nav>
    <div style="font-size: 24px; font-weight: bold; color: var(--main-color);">SportX</div>
    <div style="display: flex; align-items: center; gap: 15px;">
        <div class="three-dots">
            <i class="fa fa-ellipsis-v"></i>
            <div class="dropdown">
                <a href="admin_login.html">Admin Login</a>
            </div>
        </div>
    </div>
</nav>

<div class="hero">
    <h1>Welcome to SportX Store</h1>
    <p>সেরা দামে সেরা স্পোর্টস পণ্য পান আমাদের এখানে।</p>
</div>

<div class="auth-box">
    <h2 id="auth-title">ইউজার লগইন</h2>
    <input type="text" id="user-name" placeholder="আপনার নাম (শুধু রেজিস্ট্রেশনের জন্য)" style="display: none;">
    <input type="email" id="user-email" placeholder="ইমেইল">
    <input type="password" id="user-pass" placeholder="পাসওয়ার্ড">
    <button class="btn" onclick="handleAuth()" id="auth-btn">লগইন করুন</button>
    <button class="btn google-btn" onclick="googleLogin()">Login with Google</button>
    <p style="text-align: center; cursor: pointer; color: blue;" onclick="toggleAuth()" id="toggle-text">অ্যাকাউন্ট নেই? রেজিস্ট্রেশন করুন</p>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, updateProfile } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
        // এখানে আপনার ফায়ারবেস কনফিগারেশন বসান
        apiKey: "AIzaSyCu8lgGs3Q-qLeedhngQAVXtt8BHOAlWDg",
        authDomain: "ms-sp-97f78.firebaseapp.com",
        projectId: "ms-sp-97f78",
        storageBucket: "ms-sp-97f78.appspot.com",
        messagingSenderId: "880638162029",
        appId: "1:880638162029:web:b99af5b5518b3e16a13b64"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    let isRegisterMode = false;

    // লগইন ও রেজিস্ট্রেশন পাল্টানোর ফাংশন
    window.toggleAuth = () => {
        isRegisterMode = !isRegisterMode;
        document.getElementById('auth-title').innerText = isRegisterMode ? "রেজিস্ট্রেশন করুন" : "ইউজার লগইন";
        document.getElementById('user-name').style.display = isRegisterMode ? "block" : "none";
        document.getElementById('auth-btn').innerText = isRegisterMode ? "রেজিস্ট্রেশন করুন" : "লগইন করুন";
        document.getElementById('toggle-text').innerText = isRegisterMode ? "অ্যাকাউন্ট আছে? লগইন করুন" : "অ্যাকাউন্ট নেই? রেজিস্ট্রেশন করুন";
    };

    // ইমেইল পাসওয়ার্ড অথেন্টিকেশন
    window.handleAuth = () => {
        const email = document.getElementById('user-email').value;
        const pass = document.getElementById('user-pass').value;
        const name = document.getElementById('user-name').value;

        if(isRegisterMode) {
            createUserWithEmailAndPassword(auth, email, pass).then((res) => {
                updateProfile(res.user, { displayName: name });
                window.location.href = "shop.html";
            }).catch(e => alert(e.message));
        } else {
            signInWithEmailAndPassword(auth, email, pass)
                .then(() => window.location.href = "shop.html")
                .catch(e => alert("ভুল ইমেইল বা পাসওয়ার্ড"));
        }
    };

    // গুগল লগইন
    window.googleLogin = () => {
        signInWithPopup(auth, provider)
            .then(() => window.location.href = "shop.html")
            .catch(e => alert(e.message));
    };
</script>
</body>
</html>