<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MS STORE - Login & Register</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: radial-gradient(circle at top right, #1e293b, #0f172a);
            color: #333;
        }

        .container {
            position: relative;
            width: 850px;
            height: 550px;
            background: #fff;
            border-radius: 30px;
            box-shadow: 0 0 30px rgba(0, 0, 0, .2);
            overflow: hidden;
        }

        /* ফর্ম বক্স ডিজাইন */
        .form-box {
            position: absolute;
            right: 0;
            width: 50%;
            height: 100%;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 40px;
            z-index: 1;
            transition: .6s ease-in-out;
        }

        .container.active .form-box {
            right: 50%;
        }

        .form-box.register {
            display: none;
        }

        .container.active .form-box.register {
            display: flex;
        }

        .form-box h1 {
            font-size: 30px;
            margin-bottom: 20px;
            color: #0f172a;
        }

        input {
            width: 100%;
            padding: 12px 15px;
            margin: 8px 0;
            background: #eee;
            border: none;
            border-radius: 10px;
            outline: none;
        }

        .btn {
            width: 100%;
            padding: 12px;
            background: #7402dc;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 15px;
            transition: 0.3s;
        }

        .google-btn {
            background: #fff;
            color: #444;
            border: 1px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .google-btn img { width: 20px; }

        /* টগল বক্স ডিজাইন */
        .toggle-box {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .toggle-box::before {
            content: '';
            position: absolute;
            left: -250%;
            width: 300%;
            height: 100%;
            background: linear-gradient(45deg, #00d2ff, #3a7bd5);
            border-radius: 150px;
            z-index: 2;
            transition: 1.8s ease-in-out;
        }

        .container.active .toggle-box::before {
            left: 50%;
        }

        .toggle-panel {
            position: absolute;
            width: 50%;
            height: 100%;
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: center;
            color: #fff;
            z-index: 2;
            transition: .6s ease-in-out;
            text-align: center;
            padding: 0 20px;
        }

        .toggle-left { left: 0; transition-delay: .6s; }
        .container.active .toggle-left { left: -50%; transition-delay: 0s; }

        .toggle-right { right: -50%; transition-delay: 0s; }
        .container.active .toggle-right { right: 0; transition-delay: .6s; }

        .toggle-panel button {
            background: transparent;
            border: 2px solid #fff;
            width: 130px;
            height: 40px;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            margin-top: 15px;
            font-weight: 600;
        }

        /* আপনার দেওয়া মোবাইল রেসপন্সিভ কোড (সংশোধিত) */
        @media screen and (max-width: 650px) {
            .container {
                width: 95%;
                height: 90vh;
                border-radius: 20px;
            }

            .form-box {
                bottom: 0;
                width: 100%;
                height: 70%;
            }

            .container.active .form-box {
                bottom: 30%;
                right: 0;
            }

            .toggle-box::before {
                left: 0;
                top: -270%;
                width: 100%;
                height: 100%;
            }

            .container.active .toggle-box::before {
                top: -70%;
                left: 0;
            }

            .toggle-panel {
                width: 100%;
                height: 30%;
            }

            .toggle-left { top: 0; }
            .toggle-right { bottom: -30%; right: 0; }
            .container.active .toggle-right { bottom: 0; }
        }
    </style>
</head>
<body>

    <div class="container" id="container">
        <div class="form-box login">
            <form id="loginForm">
                <h1>Login</h1>
                <input type="email" id="loginEmail" placeholder="ইমেইল">
                <input type="password" id="loginPass" placeholder="পাসওয়ার্ড">
                <button type="submit" class="btn">প্রবেশ করুন</button>
                <div style="margin: 10px 0; color: #777;">অথবা</div>
                <button type="button" class="btn google-btn" onclick="googleLogin()">
                    <img src="https://img.icons8.com/color/48/000000/google-logo.png"/> Google
                </button>
            </form>
        </div>

        <div class="form-box register">
            <form id="registerForm">
                <h1>Create Account</h1>
                <input type="text" id="regName" placeholder="পূর্ণ নাম">
                <input type="email" id="regEmail" placeholder="ইমেইল">
                <input type="password" id="regPass" placeholder="পাসওয়ার্ড">
                <button type="submit" class="btn">রেজিস্ট্রেশন</button>
            </form>
        </div>

        <div class="toggle-box">
            <div class="toggle-panel toggle-left">
                <h2>Welcome Back!</h2>
                <p>আপনার অ্যাকাউন্ট থাকলে লগইন করুন</p>
                <button id="loginBtn">লগইন</button>
            </div>
            <div class="toggle-panel toggle-right">
                <h2>Hello, Friend!</h2>
                <p>নতুন হলে আজই রেজিস্ট্রেশন করুন</p>
                <button id="registerBtn">রেজিস্ট্রেশন</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, updateProfile } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCu8lgGs3Q-qLeedhngQAVXtt8BHOAlWDg",
            authDomain: "ms-sp-97f78.firebaseapp.com",
            projectId: "ms-sp-97f78",
            storageBucket: "ms-sp-97f78.appspot.com",
            appId: "1:880638162029:web:b99af5b5518b3e16a13b64"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        // স্লাইডিং এনিমেশন কন্ট্রোল
        const container = document.getElementById('container');
        document.getElementById('registerBtn').onclick = () => container.classList.add('active');
        document.getElementById('loginBtn').onclick = () => container.classList.remove('active');

        // লগইন ফাংশন
        document.getElementById('loginForm').onsubmit = (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPass').value;
            signInWithEmailAndPassword(auth, email, pass)
                .then(() => window.location.href = "shop.html")
                .catch(() => alert("ভুল ইমেইল বা পাসওয়ার্ড"));
        };

        // রেজিস্ট্রেশন ফাংশন
        document.getElementById('registerForm').onsubmit = (e) => {
            e.preventDefault();
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const pass = document.getElementById('regPass').value;
            createUserWithEmailAndPassword(auth, email, pass).then((res) => {
                updateProfile(res.user, { displayName: name }).then(() => {
                    window.location.href = "shop.html";
                });
            }).catch(() => alert("রেজিস্ট্রেশন ব্যর্থ হয়েছে"));
        };

        // গুগল লগইন
        window.googleLogin = () => {
            signInWithPopup(auth, provider)
                .then(() => window.location.href = "shop.html")
                .catch(() => alert("গুগল লগইন বাতিল"));
        };
    </script>
</body>
</html>
